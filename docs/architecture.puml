@startuml CourseMaster_AI_Architecture

title CourseMaster AI - System Architecture

' User
actor "Student User" as user

' Frontend
package "Frontend Layer" {
  component "React Application" as react
  component "React Router" as router
  component "Axios Client" as axios
}

' Backend
package "Backend Layer" {
  component "FastAPI Server" as fastapi
  
  package "Routers" {
    component "Auth Router" as auth_router
    component "PDF Router" as pdf_router
    component "Chat Router" as chat_router
    component "Quiz Router" as quiz_router
  }
  
  package "Services" {
    component "LangChain Service" as langchain
    component "RAG Service" as rag
    component "Groq Client" as groq_service
  }
}

' Data Storage
database "PostgreSQL" as postgres
database "ChromaDB" as chroma
folder "File System" as files

' External Services
cloud "External Services" {
  component "Groq API" as groq_api
  component "HuggingFace" as huggingface
}

' Connections
user --> react
react --> router
router --> axios
axios --> fastapi

fastapi --> auth_router
fastapi --> pdf_router
fastapi --> chat_router
fastapi --> quiz_router

pdf_router --> rag
rag --> huggingface
rag --> chroma
rag --> files

chat_router --> rag
chat_router --> groq_service

quiz_router --> langchain
langchain --> groq_service

groq_service --> groq_api

auth_router --> postgres
pdf_router --> postgres
chat_router --> postgres
quiz_router --> postgres

note right of langchain
  LangChain Agent
  - Quiz generation
  - Up to 20 MCQs
  - 3 difficulty levels
end note

note right of rag
  RAG Pipeline
  - ChromaDB vectors
  - 20-30 chunks
  - Comprehensive answers
end note

@enduml
